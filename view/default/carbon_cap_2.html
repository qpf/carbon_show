<html>
<head>
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
	<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
	<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
	<script src="js/esl.js" type="text/javascript"></script>
	<script>
		function my_switch(v){          
			if(v==1){
				$("#graph").css("display","block");
				$("#chart").css("display","none");
			}else{
				$("#graph").css("display","none");
				$("#chart").css("display","block");
			}
		}
	</script>

</head>
<body>
<div class="container-fluid">
        <div class="row" style="margin:0px 0px 10px 10px">
			<div style="font-size:20px;color:red;margin:0px 0px 0px 0px;float:left;">产能结构情况</div>
			<div style="float:right;">
				<select class="form-control" onchange="my_switch(this.value)">
					<option value=1>图形显示</option>
					<option value=2 selected="selected">数据表显示</option>
				</select>
			</div>
		</div>
		<div id="graph" class="row" align="center" style="margin:10px 0px 0px 0px;display:none;">
			<div id="view" style="height:400px;width:680px;"></div>
		</div>
		<div id="chart" class="row" align="center" style="margin:10px 0px 0px 0px;display:block;">
			<table class="table table-bordered table-striped table-hover" style="font-size:8px;">
				<thead>
					<tr>
						<td>年份</td>
						<td>产能</td>
						<td>企业数量</td>
						<td>产量总计</td>
						<td>占总产量比例</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>2000年</td>
						<td>大于1.0万吨</td>
						<td>9家</td>
						<td>8.703</td>
						<td>44.60%</td>
					</tr>
					<tr>
						<td>2005年</td>
						<td>大于1.0万吨</td>
						<td>27家</td>
						<td>30.48</td>
						<td>65.18%</td>
					</tr>
					<tr>
						<td>2009年</td>
						<td>大于1.0万吨</td>
						<td>15家</td>
						<td>35.13</td>
						<td>70%</td>
					</tr>
					<tr>
						<td>2009年</td>
						<td>大于3.0万吨</td>
						<td>3家</td>
						<td>17.68</td>
						<td>35.23%</td>
					</tr>
					<tr>
						<td>2010年</td>
						<td>大于1.0万吨</td>
						<td>19家</td>
						<td>47.46</td>
						<td>71.19%</td>
					</tr>
					<tr>
						<td>2010年</td>
						<td>大于3.0万吨</td>
						<td>4家</td>
						<td>23.76</td>
						<td>35.64%</td>
					</tr>
					<tr>
						<td>2011年</td>
						<td>大于1.0万吨</td>
						<td>21家</td>
						<td>40.73</td>
						<td>61.66%</td>
					</tr><tr>
						<td>2011年</td>
						<td>大于3.0万吨</td>
						<td>5家</td>
						<td>21.43</td>
						<td>32.44%</td>
					</tr><tr>
						<td>2013年</td>
						<td>大于1.0万吨</td>
						<td>32家</td>
						<td>59.75</td>
						<td>77.63%</td>
					</tr><tr>
						<td>2013年</td>
						<td>大于3.0万吨</td>
						<td>5家</td>
						<td>19.82</td>
						<td>25.75%</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="row" style="margin:0px 0px 0px 0px">
		</div>
		<div>
			<p style="text-indent: 1cm">近年来，镁冶炼企业逐步向规模化发展，产业集中度不断提高。</p>
			<p style="text-indent: 1cm">2005年，全国镁冶炼产能大于1.0万吨的企业有27家，其中10家企业的原镁年产量超过1.0万吨，占国内原镁总产量的52.79%。</p>
			<p style="text-indent: 1cm">2011年，年产1.0万吨以上镁冶炼企业有21家，同比增加2家，产量合计40.73万吨，年产3万吨以上企业有5家，产量合计21.43万吨，比2010年有所下降。</p>
			<p style="text-indent: 1cm">2013年，产量1.0万吨以上的镁冶炼企业有32家，产量合计为59.75万吨，占总产量的77.63%，同比增加25.25%；年产3.0万吨以上企业5家，产量合计为19.82万吨，占总产量的25.75%，较2012年同期有所增加。</p>
		</div>
    </div>
<script type="text/javascript">
        // 路径配置
        require.config({
        	paths: {
        		'echarts': 'js/echarts',
        		'echarts/chart/pie': 'js/echarts'
        	}
        });

        // 使用
        require(
        	[
        		'echarts',
        		'echarts/chart/pie' // 使用柱状图就加载bar模块，按需加载
        	],
        	function (ec) {
        	// 基于准备好的dom，初始化echarts图表
        	var myChart = ec.init(document.getElementById('view'));

        	var idx = 1;
        	option = {
        		tooltip: {
        			trigger: 'axis',
        			axisPointer: { // 坐标轴指示器，坐标轴触发有效
        				type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
        			}
        		},
        		legend: {
					x:'right',
					
        			data: ['<1.0万吨', '[1万吨，3万吨）', '≥3.0万吨']
        		},
        		toolbox: {
					x:'left',
					orient:'vertical',
        			show: true,
        			feature: {
        				mark: {
        					show: true
        				},
        				dataView: {
        					show: true,
        					readOnly: false
        				},
        				magicType: {
        					show: true,
        					type: ['line', 'bar', 'stack', 'tiled']
        				},
        				restore: {
        					show: true
        				},
        				saveAsImage: {
        					show: true
        				}
        			}
        		},
        		calculable: true,
        		xAxis: [{
        				type: 'value'
        			}
        		],
        		yAxis: [{
        				type: 'category',
        				data: ['2000', '2005', '2009', '2010', '2011', '2013']
        			}
        		],
        		series: [{
        				name: '<1.0万吨',
        				type: 'bar',
        				stack: '总量',
        				itemStyle: {
        					normal: {
        						label: {
        							show: true,
        							position: 'insideRight'
        						}
        					}
        				},
        				data: [10.80, 16.32, 15.07, 17.94, 25.37, 17.15]
        			}, {
        				name: '[1万吨，3万吨）',
        				type: 'bar',
        				stack: '总量',
        				itemStyle: {
        					normal: {
        						label: {
        							show: true,
        							position: 'insideRight'
        						}
        					}
        				},
        				data: [8.70, 30.48, 17.45, 23.70, 19.30, 39.93]
        			}, {
        				name: '≥3.0万吨',
        				type: 'bar',
        				stack: '总量',
        				itemStyle: {
        					normal: {
        						label: {
        							show: true,
        							position: 'insideRight'
        						}
        					}
        				},
        				data: [0.00, 0.00, 17.68, 23.76, 21.43, 19.82]
        			}
        		]
        	};
        	// 为echarts对象加载数据
        	myChart.setOption(option);
        });
    </script>
	
</body>
</html>