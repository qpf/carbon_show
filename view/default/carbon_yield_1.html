<html>
<head>
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
	<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
	<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
	<script src="js/esl.js" type="text/javascript"></script>
	<script>
		function my_switch(v){          
			if(v==1){
				$("#graph").css("display","block");
				$("#chart").css("display","none");
			}else{
				$("#graph").css("display","none");
				$("#chart").css("display","block");
			}
		}
	</script>

</head>
<body>
<div class="container-fluid">
        <div class="row" style="margin:0px 0px 10px 10px">
			<div style="font-size:20px;color:red;margin:0px 0px 0px 0px;float:left;">产能结构情况</div>
			<div style="float:right;">
				<select class="form-control" onchange="my_switch(this.value)">
					<option value=1>图形显示</option>
					<option value=2 selected="selected">数据表显示</option>
				</select>
			</div>
		</div>
		<div id="graph" class="row" align="center" style="margin:10px 0px 0px 0px;display:none;">
			<div id="view" style="height:400px;width:680px;"></div>
		</div>
		<div id="chart" class="row" align="center" style="margin:10px 0px 0px 0px;display:block;">
			<table class="table table-bordered table-striped table-hover" style="font-size:8px;">
				<thead>
					<tr>
						<td>年份</td>
						<td>中国</td>
						<td>世界</td>
						<td>比例</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>1995年</td>
						<td>4.4</td>
						<td>35.1</td>
						<td>12%</td>
					</tr>
					<tr>
						<td>1996年</td>
						<td>7.3</td>
						<td>37.5</td>
						<td>19%</td>
					</tr>
					<tr>
						<td>1997年</td>
						<td>9.2</td>
						<td>39.5</td>
						<td>23%</td>
					</tr>
					<tr>
						<td>1998年</td>
						<td>12.3</td>
						<td>39.2</td>
						<td>31%</td>
					</tr>
					<tr>
						<td>1999年</td>
						<td>15.7</td>
						<td>40.5</td>
						<td>39%</td>
					</tr>
					<tr>
						<td>2000年</td>
						<td>19.5</td>
						<td>47.0</td>
						<td>41%</td>
					</tr>
					<tr>
						<td>2001年</td>
						<td>21.6</td>
						<td>47.9</td>
						<td>45%</td>
					</tr>
					<tr>
						<td>2002年</td>
						<td>26.8</td>
						<td>43.4</td>
						<td>62%</td>
					</tr>
					<tr>
						<td>2003年</td>
						<td>35.4</td>
						<td>50.3</td>
						<td>70%</td>
					</tr>
					<tr>
						<td>2004年</td>
						<td>45.0</td>
						<td>63.4</td>
						<td>71%</td>
					</tr>
					<tr>
						<td>2005年</td>
						<td>46.8</td>
						<td>65.8</td>
						<td>71%</td>
					</tr>
					<tr>
						<td>2006年</td>
						<td>52.4</td>
						<td>70.9</td>
						<td>74%</td>
					</tr>
					<tr>
						<td>2007年</td>
						<td>67.0</td>
						<td>77.7</td>
						<td>86%</td>
					</tr>
					<tr>
						<td>2008年</td>
						<td>55.8</td>
						<td>77.8</td>
						<td>72%</td>
					</tr>
					<tr>
						<td>2009年</td>
						<td>50.2</td>
						<td>63.4</td>
						<td>79%</td>
					</tr>
					<tr>
						<td>2010年</td>
						<td>65.4</td>
						<td>78.2</td>
						<td>84%</td>
					</tr>
					<tr>
						<td>2011年</td>
						<td>66.1</td>
						<td>77.3</td>
						<td>85%</td>
					</tr>
					<tr>
						<td>2012年</td>
						<td>69.8</td>
						<td>85.1</td>
						<td>82%</td>
					</tr>
					<tr>
						<td>2013年</td>
						<td>76.9</td>
						<td>87.8</td>
						<td>88%</td>
					</tr>
					<tr>
						<td>2014年</td>
						<td>87.4</td>
						<td>102.4</td>
						<td>85%</td>
					</tr>
					<tr>
						<td>2015年</td>
						<td>85.2</td>
						<td>100.2</td>
						<td>85%</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="row" style="margin:0px 0px 0px 0px">
			<p style="text-indent: 1cm">我国是世界上最大的镁金属生产国，2012年全国原镁产量为69.8万吨，较上世纪90年代初增加近80倍，占全球金属镁产量的82%。同时，2012年我国镁消费总量达31万吨，较2008年增加约60%。</p>
		</div>
    </div>
	     <script type="text/javascript">
        // 路径配置
        require.config({
        	paths: {
        		'echarts': 'js/echarts',
        		'echarts/chart/pie': 'js/echarts'
        	}
        });

        // 使用
        require(
        	[
        		'echarts',
        		'echarts/chart/pie' // 使用柱状图就加载bar模块，按需加载
        	],
        	function (ec) {
        	// 基于准备好的dom，初始化echarts图表
        	var myChart = ec.init(document.getElementById('view'));

        	option = {
        		tooltip: {
        			trigger: 'axis'
        		},
        		toolbox: {
        			show: true,
        			feature: {
        				mark: {
        					show: true
        				},
        				dataView: {
        					show: true,
        					readOnly: false
        				},
        				magicType: {
        					show: true,
        					type: ['line', 'bar']
        				},
        				restore: {
        					show: true
        				},
        				saveAsImage: {
        					show: true
        				}
        			}
        		},
        		calculable: true,
        		legend: {
        			data: ['中国', '世界', '比例']
        		},
        		xAxis: [{
        				type: 'category',
        				data: ['1995', '1996', '1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015']
        			}
        		],
        		yAxis: [{
        				type: 'value',
        				name: '产量'
        				<!-- axisLabel: { -->
        					<!-- formatter: '{value}' -->
        				<!-- } -->
        			}, {
        				type: 'value',
        				name: '比例(%)'
        				<!-- axisLabel: { -->
        					<!-- formatter: '{value}%' -->
        				<!-- } -->
        			}
        		],
        		series: [
        			{
        				name: '中国',
        				type: 'bar',
        				data: [4.4,7.3,9.2,12.3,15.7,19.5,21.6,26.8,35.4,45.0,46.8,52.4,67.0,55.8,50.2,65.4,66.1,69.8,76.9,87.4,85.2]
        			}, {
        				name: '世界',
        				type: 'bar',
        				data: [35.1,37.5,39.5,39.2,40.5,47.0,47.9,43.4,50.3,63.4,65.8,70.9,77.7,77.8,63.4,78.2,77.3,85.1,87.8,102.4,100.2]
        			}, {
        				name: '比例',
        				type: 'line',
        				yAxisIndex: 1,
        				data: [12,19,23,31,39,41,45,62,70,71,71,74,86,72,79,84,85,82,88,85,85]
        			}
        		]
        	};
        	// 为echarts对象加载数据
        	myChart.setOption(option);
        });
    </script>
	
</body>
</html>